layui.define(['jquery'], function(exports) {
    var $ = layui.jquery;
    var search = [{"id":2,"title":"JSON API","content":"# JSON\u63a5\u53e3\u73af\u5883\u8bf4\u660e\r\n\r\n\u73af\u5883|\u57df\u540d\r\n:---|:---\r\n\u6d4b\u8bd5|http:\/\/domain:port\r\n\u9884\u751f\u4ea7|http:\/\/domain:port\r\n\u751f\u4ea7|http:\/\/domain:port\r\n\r\n# \u63a5\u53e3\u8bf4\u660e\r\n\r\n## \u54cd\u5e94Header\r\nkey|value\r\n:--|:--\r\nContent-Type|application\/json\r\n\r\n## \u54cd\u5e94body\r\n\r\n\u53c2\u6570|\u7c7b\u578b|\u8bf4\u660e\r\n:---|:---|:---\r\ncode|int|\u54cd\u5e94\u7801\uff0c0\uff1a\u6210\u529f\uff0c> 0\uff1a\u5931\u8d25\r\nmessage|string|\u54cd\u5e94\u63cf\u8ff0\r\ndata|mixed|\u54cd\u5e94\u6570\u636e\r\n\r\n### code\u8bf4\u660e\r\n\r\ncode|\u8bf4\u660e\r\n:--|:--\r\n0|\u8bf7\u6c42\u6210\u529f\r\n396|\u8bf7\u6c42\u672a\u6388\u6743\r\n397|\u8bf7\u6c42\u5730\u5740\u9519\u8bef\r\n398|\u5ba2\u6237\u7aef\u53c2\u6570\u9519\u8bef\r\n399|\u672a\u627e\u5230\u76f8\u5173\u4fe1\u606f\r\n1 ~ 400|\u5ba2\u6237\u7aef\u9519\u8bef\r\n\\>= 500|\u670d\u52a1\u7aef\u9519\u8bef\r\n501|\u7b2c\u4e09\u65b9\u63a5\u53e3\u9519\u8bef\r\n\r\n> NOTE:\r\n>\r\n> \u6b64\u5904\u5b9a\u4e49\u7684\u6240\u6709code\u4e3a\u516c\u5171\u7684\u6709\u540dcode\uff0c\u4e1a\u52a1\u5c42\u9762\u7684code\uff0c\u5177\u4f53\u63a5\u53e3\u5177\u4f53\u5b9a\u4e49\uff0c\u7b26\u5408\u4ee5\u4e0b\u89c4\u5219\uff1a\r\n> 1. `1 ~ 400` \u4e3a\u5ba2\u6237\u7aef\u9519\u8bef\uff0c\u5ba2\u6237\u7aef\u9700\u8981\u5904\u7406\r\n> 2. `>= 500` \u4e3a\u670d\u52a1\u7aef\u7aef\u9519\u8bef\uff0c\u670d\u52a1\u7aef\u9700\u8981\u5904\u7406\r\n> 3. \u5404\u4e2a\u63a5\u53e3\u81ea\u5b9a\u4e49\u7684code\uff0c\u4e92\u4e0d\u51b2\u7a81\r\n\r\n### \u793a\u4f8b\r\n```json\r\n{\r\n    \"code\":0,\r\n    \"message\":\"\u6210\u529f\",\r\n    \"data\":{}\r\n}\r\n```"},{"id":4,"title":"\u4f7f\u7528\u8bf4\u660e","content":"# token \u4f7f\u7528\u8bf4\u660e\r\n\r\n## token\u7684\u65f6\u6548\u6027\r\ntoken\u662f\u6709\u65f6\u6548\u7684\uff0c\u5ba2\u6237\u7aef\u9700\u8981\u6839\u636e[\u670d\u52a1\u7aef\u8fd4\u56de\u7684token\u8fc7\u671f\u65f6\u95f4\u4e0e\u670d\u52a1\u5668\u5f53\u524d\u65f6\u95f4](\/public\/doc\/token\/in.html)\uff0c\u5bf9token\u7684\u8fc7\u671f\u8fdb\u884c\u76d1\u63a7\u3002\r\n\u5f53token\u5373\u5c06\u8fc7\u671f\u65f6\uff0c\u5e94\u8c03\u7528[\u5237\u65b0token\u63a5\u53e3](\/public\/doc\/token\/refresh.html)\uff0c\u91cd\u65b0\u83b7\u53d6token\u3002\r\n\r\n## token\u7684\u4f7f\u7528\u65b9\u5f0f\r\n\u5982\u679c\u67d0\u4e2a\u63a5\u53e3\u9700\u8981\u5ba2\u6237\u7aef\u4f20\u9012token\uff0c\u90a3\u4e48\u5ba2\u6237\u7aef\u5e94\u8be5\u5728`http`\u8bf7\u6c42\u7684`header`\u5934\u90e8\u4e2d\u4f20\u9012\u5b57\u6bb5`Authorization`\u3002\r\n\u793a\u4f8b\uff1a`Authorization: 6hxMWMW1sCBL65GXdLRsGkruwV9Z6p9i4`\u3002\r\n"},{"id":5,"title":"\u83b7\u53d6token","content":"# \u83b7\u53d6token\r\n\r\n## \u8bf7\u6c42\u8bf4\u660e\r\n\r\n**\u63a5\u53e3\u7c7b\u578b** [JSON](\/public\/doc\/instructions\/json.html)\r\n\r\n**\u8bf7\u6c42URL** `\/token\/in`\r\n\r\n**\u8bf7\u6c42\u65b9\u5f0f** `POST`\r\n\r\n**\u8bf7\u6c42\u53c2\u6570**\r\n\r\n\u53c2\u6570|\u7c7b\u578b|\u5fc5\u9009|\u8bf4\u660e\r\n:---|:---|:---|:---\r\nusername|string|\u662f|\u8d26\u53f7\r\npassword|string|\u662f|\u5bc6\u7801\r\n\r\n> \u672c\u63a5\u53e3\u6709\u8bf7\u6c42\u9650\u5236\uff0c\u8fde\u7eed\u8f93\u5165\u5bc6\u7801\u9519\u8bef\u8fbe\u5230\u4e00\u5b9a\u6b21\u6570\u4f1a\u9650\u5236\u8bf7\u6c42\u4e00\u5b9a\u5206\u949f\r\n\r\n## \u8fd4\u56de\u8bf4\u660e\r\n\r\n### code \u8bf4\u660e\r\n\r\ncode|\u8bf4\u660e\r\n:--|:--\r\n0|\u6210\u529f\r\n398|\u5ba2\u6237\u7aef\u53c2\u6570\u9519\u8bef\r\n399|\u8d26\u53f7\u9519\u8bef\r\n1|\u5bc6\u7801\u9519\u8bef\uff0c\u60a8\u8fd8\u6709 x \u6b21\u5c1d\u8bd5\u673a\u4f1a\r\n2|\u8fde\u7eed\u8f93\u5165\u9519\u8bef\u5bc6\u7801\uff0c\u9501\u5b9a xx \u5206\u949f xx \u79d2\r\n\r\n###  code == 0\r\n\r\ndata \u8bf4\u660e\r\n\r\n\u53c2\u6570|\u7c7b\u578b|\u8bf4\u660e\r\n:---|:---|:---\r\ntoken|string|token\u5b57\u7b26\u4e32\r\nexpire_time|int|token\u7684\u8fc7\u671f\u65f6\u95f4\r\nserver_time|int|\u670d\u52a1\u5668\u5f53\u524d\u65f6\u95f4\r\n\r\n\u8fd4\u56de\u793a\u4f8b\r\n\r\n```\r\n{\r\n    \"code\":0,\r\n    \"message\":\"\u6210\u529f\",\r\n    \"data\":{\r\n        \"token\":\"E8VvRC6ou14lVYIq4\",\r\n        \"expire_time\":1591695982,\r\n        \"server_time\":1591609582\r\n    }\r\n}\r\n```\r\n\r\n###  code == 399\r\n\r\n\u8fd4\u56de\u793a\u4f8b\r\n\r\n```\r\n{\r\n    \"code\":399,\r\n    \"message\":\"\u8d26\u53f7\u9519\u8bef\",\r\n    \"data\":{\r\n\r\n    }\r\n}\r\n```\r\n\r\n\u8fd4\u56de\u793a\u4f8b\r\n\r\n###  code == 1\r\n\r\n```\r\n{\r\n    \"code\":1,\r\n    \"message\":\"\u5bc6\u7801\u9519\u8bef\uff0c\u60a8\u8fd8\u6709 2 \u6b21\u5c1d\u8bd5\u673a\u4f1a\",\r\n    \"data\":{\r\n\r\n    }\r\n}\r\n```\r\n\r\n###  code == 2\r\n\r\n\u8fd4\u56de\u793a\u4f8b\r\n\r\n```\r\n{\r\n    \"code\":2,\r\n    \"message\":\"\u8fde\u7eed\u8f93\u5165\u9519\u8bef\u5bc6\u7801\uff0c\u9501\u5b9a 15 \u5206\u949f 0 \u79d2\",\r\n    \"data\":{\r\n\r\n    }\r\n}\r\n```"},{"id":6,"title":"\u9500\u6bc1token","content":"# \u9500\u6bc1token\r\n\r\n## \u8bf7\u6c42\u8bf4\u660e\r\n\r\n**\u63a5\u53e3\u7c7b\u578b** [JSON](\/public\/doc\/instructions\/json.html)\r\n\r\n**\u8bf7\u6c42URL** `\/token\/out`\r\n\r\n**\u8bf7\u6c42\u65b9\u5f0f** `DELETE`\r\n\r\n**\u8bf7\u6c42Header** `Authorization: token\u5b57\u7b26\u4e32`\r\n\r\n## \u8fd4\u56de\u8bf4\u660e\r\n\r\n### code \u8bf4\u660e\r\n\r\ncode|\u8bf4\u660e\r\n:--|:--\r\n0|\u6210\u529f\r\n\\>0|\u5931\u8d25\r\n\r\n### code == 0\r\n\r\n\u8fd4\u56de\u793a\u4f8b\r\n\r\n```\r\n{\r\n    \"code\":0,\r\n    \"message\":\"\u6210\u529f\",\r\n    \"data\":{}\r\n}\r\n```"},{"id":7,"title":"\u5237\u65b0token","content":"# \u5237\u65b0token\r\n\r\n## \u8bf7\u6c42\u8bf4\u660e\r\n\r\n**\u63a5\u53e3\u7c7b\u578b** [JSON](\/public\/doc\/instructions\/json.html)\r\n\r\n**\u8bf7\u6c42URL** `\/token\/refresh`\r\n\r\n**\u8bf7\u6c42\u65b9\u5f0f** `POST`\r\n\r\n**\u8bf7\u6c42Header** `Authorization: token\u5b57\u7b26\u4e32`\r\n\r\n## \u8fd4\u56de\u8bf4\u660e\r\n\r\n### code \u8bf4\u660e\r\n\r\ncode|\u8bf4\u660e\r\n:--|:--\r\n0|\u6210\u529f\r\n\\>0|\u5931\u8d25\r\n\r\n### code == 0\r\n\r\ndata \u8bf4\u660e\r\n\r\n\u53c2\u6570|\u7c7b\u578b|\u8bf4\u660e\r\n:---|:---|:---\r\ntoken|string|token\u5b57\u7b26\u4e32\r\nexpire_time|int|token\u7684\u8fc7\u671f\u65f6\u95f4\r\nserver_time|int|\u670d\u52a1\u5668\u5f53\u524d\u65f6\u95f4\r\n\r\n\u8fd4\u56de\u793a\u4f8b\r\n\r\n```\r\n{\r\n    \"code\":0,\r\n    \"message\":\"\u6210\u529f\",\r\n    \"data\":{\r\n        \"token\":\"E8VvRC6ou14lVYIq4\",\r\n        \"expire_time\":1591695982,\r\n        \"server_time\":1591609582\r\n    }\r\n}\r\n```"}];
    var get = function(keyword) {
        var result = [];
        for(var i in search) {
            var data = search[i];
            //检索文档内容
            var index = data.content.indexOf(keyword);
            if(index !== -1) {
                var start = index - 50;
                var end = keyword.length + 100;
                if(start<0) {
                    start = 0;
                }
                result.push({
                    id:data.id,
                    title:data.title,
                    context:$.trim(data.content.substr(start, end))
                });
            }else if(data.title.indexOf(keyword) !== -1) {
                //检索标题
                result.push({
                    id:data.id,
                    title:data.title,
                    context:''
                });
            }
        }
        return result;
    };
    exports('searchMdDoc', {get:get});
});
